(this["webpackJsonpdesafio-brik-tmp"]=this["webpackJsonpdesafio-brik-tmp"]||[]).push([[0],{42:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(11),c=a.n(r),i=(a(42),a(14)),o=a(4),l=a(6),j=a(15),b=a.n(j),d=a(9),m=a(2),p=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(i.b,{to:"/register",children:Object(m.jsx)(d.a,{color:"secondary",block:!0,children:"Registrate"})})})},O=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(l.d,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email&&/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e.email)||(t.email="favor ingresar email valido"),t},onSubmit:function(e,t){var a=t.resetForm;!function(e){var t={method:"post",url:"http://prueba.brik.cl/api/login",headers:{Authorization:"Basic Og==","Content-Type":"application/json"},data:JSON.stringify({email:e.email,password:e.password})};b()(t).then((function(e){var t="Bearer "+e.data.data.accessToken;console.log(JSON.stringify(e.data)),localStorage.setItem("token",t),window.location.href="/users"})).catch((function(e){alert("Vuelve a intentarlo!"),console.log(e)}))}(e),a()},children:function(e){var t=e.errors;return Object(m.jsxs)(l.c,{className:"formularioLogin",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsx)("label",{htmlFor:"email",className:"labelLogin",children:"E-mail"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"email",name:"email",id:"email"}),Object(m.jsx)(l.a,{name:"email",component:function(){return Object(m.jsx)("p",{className:"errors",children:t.email})}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"password",className:"labelLogin",children:"Contrase\xf1a"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"password",name:"password",id:"password"})]}),Object(m.jsx)("br",{}),Object(m.jsx)(d.a,{type:"submit",color:"light",outline:!0,size:"lg",className:"buttonLogin",children:"Enviar"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(p,{}),Object(m.jsx)("br",{})]})}})})},x=a(10),u=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(i.b,{to:"/",children:Object(m.jsx)(d.a,{color:"secondary",size:"lg",className:"buttonBack",children:"Volver"})})})},h=function(){var e=Object(s.useState)(!1),t=Object(x.a)(e,2),a=t[0],n=t[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(l.d,{initialValues:{nombres:"",apellido_paterno:"",apellido_materno:"",rut:"",email:"",name:"",password:"",password_confirmation:""},validate:function(e){var t={};return e.nombres?/^[a-zA-Z\xc0-\xff\s]{1,40}$/.test(e.nombres)||(t.nombres="Solo debe contener letras y espacios"):t.nombres="favor ingresar nombre",e.email&&/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e.email)||(t.email="favor ingresar email valido"),e.rut&&/^(\d{2}\.\d{3}\.\d{3}-)([a-zA-Z]{1}$|\d{1}$)/.test(e.rut)||(t.rut="favor ingresar rut valido"),t},onSubmit:function(e,t){var a=t.resetForm;!function(e){var t=new FormData;t.append("nombres",e.nombres),t.append("apellido_paterno",e.apellido_paterno),t.append("apellido_materno",e.apellido_materno),t.append("rut",e.rut),t.append("email",e.email),t.append("name",e.name),t.append("password",e.password),t.append("password_confirmation",e.password_confirmation),b()({method:"POST",url:"http://prueba.brik.cl/api/register",data:t}).then((function(e){console.log(e.data),alert("registrado")})).catch((function(e){console.log(e)}))}(e),a(),n(!0)},children:function(e){var t=e.errors;return Object(m.jsxs)(l.c,{className:"formulario",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Registro"}),Object(m.jsx)("label",{htmlFor:"nombres",className:"labelLogin",children:"Nombres"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"text",name:"nombres",id:"nombres"}),Object(m.jsx)(l.a,{name:"nombres",component:function(){return Object(m.jsx)("p",{className:"errors",children:t.nombres})}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"apellido_paterno",className:"labelLogin",children:"Apellido Paterno"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"text",name:"apellido_paterno",id:"apellido_paterno"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"apellido_materno",className:"labelLogin",children:"Apellido Materno"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"text",name:"apellido_materno",id:"apellido_materno"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"rut",className:"labelLogin",children:"Rut"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"text",name:"rut",id:"rut"}),Object(m.jsx)(l.a,{name:"rut",component:function(){return Object(m.jsx)("p",{className:"errors",children:t.rut})}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"email",className:"labelLogin",children:"E-mail"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"email",name:"email",id:"email"}),Object(m.jsx)(l.a,{name:"email",component:function(){return Object(m.jsx)("p",{className:"errors",children:t.email})}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"name",className:"labelLogin",children:"Nombre de Usuario"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"text",name:"name",id:"name"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"password",className:"labelLogin",children:"Contrase\xf1a"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"password",name:"password",id:"password"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"password_confirmation",className:"labelLogin",children:"Confirma tu Contrase\xf1a"}),Object(m.jsx)("br",{}),Object(m.jsx)(l.b,{className:"inputLogin",type:"password",name:"password_confirmation",id:"password_confirmation"})]}),Object(m.jsx)("br",{}),Object(m.jsx)(d.a,{type:"submit",color:"light",outline:!0,size:"lg",className:"buttonLogin",children:"Enviar"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(u,{}),a&&Object(m.jsx)("p",{className:"send",children:"Formulario enviado con exito"})]})}})})},g=function(){var e=Object(s.useState)([]),t=Object(x.a)(e,2),a=t[0],n=t[1];Object(s.useEffect)((function(){r()}),[]);var r=function(){var e={method:"get",url:"http://prueba.brik.cl/api/users",headers:{Authorization:localStorage.getItem("token")},data:""};b()(e).then((function(e){n(e.data.data),console.log(e.data.data,localStorage.getItem("token"))})).catch((function(e){console.log(e)}))};return Object(m.jsxs)("div",{children:[Object(m.jsxs)(d.b,{striped:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"Usuario"}),Object(m.jsx)("th",{children:"Email"})]})}),Object(m.jsx)("tbody",{children:a.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row",children:e.id}),Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:e.email})]},e.id)}))})]}),Object(m.jsx)(u,{})]})},f=function(){return Object(m.jsx)(i.a,{children:Object(m.jsx)("div",{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/",element:Object(m.jsx)(O,{})}),Object(m.jsx)(o.a,{path:"/register",exact:!0,element:Object(m.jsx)(h,{})}),Object(m.jsx)(o.a,{path:"/users",exact:!0,element:Object(m.jsx)(g,{})})]})})})};c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.0004cc5d.chunk.js.map